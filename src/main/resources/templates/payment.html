<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<div th:include="topdown/header.html"></div>
<body>
<div class="container mt-4">
  <h1>Payment Page <span th:text="${username}">User</span></h1>

  <form th:action="@{/pay/newpay}" id="paymentForm" method="post">

    <div class="form-group">
      <label for="paymentType">Payment Type</label>
      <select class="form-control" id="paymentType" name="paymentType" th:onchange="|togglePaymentFields()|">
        <option value="Cash">Cash</option>
        <option value="PayPal">PayPal</option>
        <option value="VISA">VISA</option>
        <option value="MasterCard">MasterCard</option>
        <option value="Delivery">Delivery</option>
        <option value="BankAccount">Bank Account</option>
      </select>
    </div>
    <div id="cardFields" class="form-group">
      <label for="cardNumber">Card Number</label>
      <input type="text" class="form-control" id="cardNumber" name="cardNumber" placeholder="Enter card number">
    </div>

    <div id="expirationFields" class="form-group">
      <label for="expirationDate">Expiration Date</label>
      <input type="text" class="form-control" id="expirationDate" name="expirationDate" placeholder="MM/YY">
    </div>

    <div id="cvvFields" class="form-group">
      <label for="cvv">CVV</label>
      <input type="text" class="form-control" id="cvv" name="cvv" placeholder="Enter CVV">
    </div>
    <input type="hidden" name="totalp" id="totalp" th:value="${session.total}">
    <button type="submit" class="btn btn-primary">Pay</button>
  </form>

  <div id="paymentResult" class="mt-4"></div>
</div>
<div th:include="topdown/footer.html"></div>
</body>
</html>